<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="729px" preserveAspectRatio="none" style="width:1417px;height:729px;background:#FFFFFF;" version="1.1" viewBox="0 0 1417 729" width="1417px" zoomAndPan="magnify"><defs><filter height="300%" id="f1d9rxx2tjzntp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="524.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="70.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="381.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="540.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="540.5" y="533.5313"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="320.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="730.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="730.5" y="563.8828"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1076.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1223.5" y="273.7188"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="560" x="629.5" y="349.4219"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="540" x="639.5" y="374.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="75" x2="75" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="545.5" x2="545.5" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="735.5" x2="735.5" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="942.5" x2="942.5" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1081.5" x2="1081.5" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1228.5" x2="1228.5" y1="89.6094" y2="642.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1360.5" x2="1360.5" y1="89.6094" y2="642.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="5" y="86.5332">WarehouseEmployee</text><ellipse cx="75.5" cy="15" fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M75.5,23 L75.5,50 M62.5,31 L88.5,31 M75.5,50 L62.5,65 M75.5,50 L88.5,65 " fill="none" filter="url(#f1d9rxx2tjzntp)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="5" y="656.1191">WarehouseEmployee</text><ellipse cx="75.5" cy="669.1953" fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M75.5,677.1953 L75.5,704.1953 M62.5,685.1953 L88.5,685.1953 M75.5,704.1953 L62.5,719.1953 M75.5,704.1953 L88.5,719.1953 " fill="none" filter="url(#f1d9rxx2tjzntp)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="484.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="491.5" y="74.5332">DispatchOrderUI</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="118" x="484.5" y="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="491.5" y="663.1191">DispatchOrderUI</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="168" x="649.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="656.5" y="74.5332">DispatchOrderController</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="168" x="649.5" y="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="656.5" y="663.1191">DispatchOrderController</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="114" x="883.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="909.5" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="890.5" y="74.5332">order:TheOrder</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="114" x="883.5" y="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="909.5" y="663.1191">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="890.5" y="680.7285">order:TheOrder</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1011.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1035" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1018.5" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1011.5" y="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1035" y="663.1191">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1018.5" y="680.7285">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1161.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1197" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1168.5" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1161.5" y="641.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1197" y="663.1191">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1168.5" y="680.7285">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1318.5" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1305.5" y="86.5332">OrderRepository</text><path d="M1343,18.3906 C1343,8.3906 1361,8.3906 1361,8.3906 C1361,8.3906 1379,8.3906 1379,18.3906 L1379,44.3906 C1379,54.3906 1361,54.3906 1361,54.3906 C1361,54.3906 1343,54.3906 1343,44.3906 L1343,18.3906 " fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1343,18.3906 C1343,28.3906 1361,28.3906 1361,28.3906 C1361,28.3906 1379,28.3906 1379,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1318.5" y="656.1191">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1305.5" y="673.7285">OrderRepository</text><path d="M1343,686.8047 C1343,676.8047 1361,676.8047 1361,676.8047 C1361,676.8047 1379,676.8047 1379,686.8047 L1379,712.8047 C1379,722.8047 1361,722.8047 1361,722.8047 C1361,722.8047 1343,722.8047 1343,712.8047 L1343,686.8047 " fill="#FEFECE" filter="url(#f1d9rxx2tjzntp)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1343,686.8047 C1343,696.8047 1361,696.8047 1361,696.8047 C1361,696.8047 1379,696.8047 1379,686.8047 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="524.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="70.5" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="381.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="540.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="540.5" y="533.5313"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="320.5156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="730.5" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="730.5" y="563.8828"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1076.5" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1d9rxx2tjzntp)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1223.5" y="273.7188"/><polygon fill="#A80036" points="528.5,117.9609,538.5,121.9609,528.5,125.9609,532.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="534.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="87.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="98.5" y="117.1045">wants to access the list of orders that have already been prepared.</text><polygon fill="#A80036" points="718.5,148.3125,728.5,152.3125,718.5,156.3125,722.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="550.5" x2="724.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="557.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="568.5" y="147.4561">showPreparedOrdersList()</text><polygon fill="#A80036" points="1064.5,178.6641,1074.5,182.6641,1064.5,186.6641,1068.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="740.5" x2="1070.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="747.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="758.5" y="177.8076">repositories()</text><polygon fill="#A80036" points="1216.5,209.0156,1226.5,213.0156,1216.5,217.0156,1220.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1086.5" x2="1222.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1093.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1104.5" y="208.1592">create()</text><polygon fill="#A80036" points="751.5,239.3672,741.5,243.3672,751.5,247.3672,747.5,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="745.5" x2="1080.5" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="757.5" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="768.5" y="238.5107">factory</text><polygon fill="#A80036" points="1211.5,269.7188,1221.5,273.7188,1211.5,277.7188,1215.5,273.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="740.5" x2="1217.5" y1="273.7188" y2="273.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="747.5" y="268.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="758.5" y="268.8623">orders()</text><polygon fill="#A80036" points="1349,300.0703,1359,304.0703,1349,308.0703,1353,304.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1233.5" x2="1355" y1="304.0703" y2="304.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1240.5" y="299.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1251.5" y="299.2139">findAll()</text><polygon fill="#A80036" points="751.5,330.4219,741.5,334.4219,751.5,338.4219,747.5,334.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="745.5" x2="1227.5" y1="334.4219" y2="334.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="757.5" y="329.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="768.5" y="329.5654">orderRepository</text><path d="M629.5,349.4219 L702.5,349.4219 L702.5,357.4219 L692.5,367.4219 L629.5,367.4219 L629.5,349.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="94.0547" style="stroke:#000000;stroke-width:2.0;" width="560" x="629.5" y="349.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="644.5" y="363.917">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="717.5" y="362.8408">[for Order order : orderRepository.findAll()]</text><path d="M639.5,374.7734 L700.5,374.7734 L700.5,382.7734 L690.5,392.7734 L639.5,392.7734 L639.5,374.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="540" x="639.5" y="374.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="654.5" y="389.2686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="459" x="715.5" y="388.1924">[if order.getOrderStatus().equalsIgnoreCase("READY_FOR_CARRIER_DISPATCHING")]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="740.5" x2="782.5" y1="415.4766" y2="415.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="782.5" x2="782.5" y1="415.4766" y2="428.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="741.5" x2="782.5" y1="428.4766" y2="428.4766"/><polygon fill="#A80036" points="751.5,424.4766,741.5,428.4766,751.5,432.4766,747.5,428.4766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="747.5" y="410.6201">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="758.5" y="410.6201">preparedOrdersList.add(order)</text><polygon fill="#A80036" points="561.5,468.8281,551.5,472.8281,561.5,476.8281,557.5,472.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="555.5" x2="734.5" y1="472.8281" y2="472.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="567.5" y="467.9717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="585.5" y="467.9717">preparedOrdersList</text><polygon fill="#A80036" points="91.5,499.1797,81.5,503.1797,91.5,507.1797,87.5,503.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85.5" x2="544.5" y1="503.1797" y2="503.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="97.5" y="498.3232">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418" x="115.5" y="498.3232">shows preparedOrdersList and requests to select one order from the list.</text><polygon fill="#A80036" points="528.5,529.5313,538.5,533.5313,528.5,537.5313,532.5,533.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="534.5" y1="533.5313" y2="533.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="87.5" y="528.6748">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="105.5" y="528.6748">selects one order from the list.</text><polygon fill="#A80036" points="718.5,559.8828,728.5,563.8828,718.5,567.8828,722.5,563.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="550.5" x2="724.5" y1="563.8828" y2="563.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="557.5" y="559.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="575.5" y="559.0264">alterOrderStatus()</text><polygon fill="#A80036" points="930.5,590.2344,940.5,594.2344,930.5,598.2344,934.5,594.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="735.5" x2="936.5" y1="594.2344" y2="594.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="742.5" y="589.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="760.5" y="589.3779">setStatus("DISPATCHED")</text><polygon fill="#A80036" points="86.5,620.5859,76.5,624.5859,86.5,628.5859,82.5,624.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="80.5" x2="544.5" y1="624.5859" y2="624.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="92.5" y="619.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="110.5" y="619.7295">informs operation success.</text><!--MD5=[68ba2f8ae356dcdf1510c3328159aa6b]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor WarehouseEmployee as WE
participant DispatchOrderUI as UI
participant DispatchOrderController as Controller
participant "order:TheOrder" as Domain1 <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<repository>>

activate WE

WE -> UI: wants to access the list of orders that have already been prepared.

activate UI

UI -> Controller: showPreparedOrdersList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: orders()

activate Factory

Factory -> orderRepository: findAll()

Factory -> Controller: orderRepository

deactivate Factory

loop for Order order : orderRepository.findAll()

alt if order.getOrderStatus().equalsIgnoreCase("READY_FOR_CARRIER_DISPATCHING")

Controller -> Controller: preparedOrdersList.add(order)

end

end

Controller -> UI: preparedOrdersList

deactivate Controller

UI - -> WE: shows preparedOrdersList and requests to select one order from the list.

deactivate UI

WE -> UI: selects one order from the list.

activate UI

UI -> Controller: alterOrderStatus()

activate Controller

Controller -> Domain1 : setStatus("DISPATCHED")

deactivate Controller

UI - -> WE: informs operation success.

deactivate UI

deactivate WE

@enduml

@startuml

autonumber

actor WarehouseEmployee as WE
participant DispatchOrderUI as UI
participant DispatchOrderController as Controller
participant "order:TheOrder" as Domain1 <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<repository>>

activate WE

WE -> UI: wants to access the list of orders that have already been prepared.

activate UI

UI -> Controller: showPreparedOrdersList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: orders()

activate Factory

Factory -> orderRepository: findAll()

Factory -> Controller: orderRepository

deactivate Factory

loop for Order order : orderRepository.findAll()

alt if order.getOrderStatus().equalsIgnoreCase("READY_FOR_CARRIER_DISPATCHING")

Controller -> Controller: preparedOrdersList.add(order)

end

end

Controller -> UI: preparedOrdersList

deactivate Controller

UI - -> WE: shows preparedOrdersList and requests to select one order from the list.

deactivate UI

WE -> UI: selects one order from the list.

activate UI

UI -> Controller: alterOrderStatus()

activate Controller

Controller -> Domain1 : setStatus("DISPATCHED")

deactivate Controller

UI - -> WE: informs operation success.

deactivate UI

deactivate WE

@enduml

PlantUML version 1.2021.11(Sat Oct 02 14:26:11 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>