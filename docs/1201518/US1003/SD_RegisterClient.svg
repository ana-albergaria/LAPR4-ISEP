<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1563px" preserveAspectRatio="none" style="width:1896px;height:1563px;" version="1.1" viewBox="0 0 1896 1563" width="1896px" zoomAndPan="magnify"><defs><filter height="300%" id="fbtksotv7nl1t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="1359.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="229.3672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="353.4453"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="466.1719"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="899.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="559.2266"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="799.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="612.9297"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1088" y="1021.5"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1556.5" y="1159.2578"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1703.5" y="1290.6641"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="538.5" x="10" y="244.3672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="269.7188"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="382.4453"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="488.1719"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="757.5" y="880.7422"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="757.5" y="943.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="468.5" x2="468.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="851.5" x2="851.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1093" x2="1093" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1435.5" x2="1435.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1561.5" x2="1561.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1708.5" x2="1708.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1840.5" x2="1840.5" y1="89.6094" y2="1476.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="86.5332">Sales Clerk</text><ellipse cx="69" cy="15" fill="#FEFECE" filter="url(#fbtksotv7nl1t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,23 L69,50 M56,31 L82,31 M69,50 L56,65 M69,50 L82,65 " fill="none" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="1490.3066">Sales Clerk</text><ellipse cx="69" cy="1503.3828" fill="#FEFECE" filter="url(#fbtksotv7nl1t)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,1511.3828 L69,1538.3828 M56,1519.3828 L82,1519.3828 M69,1538.3828 L56,1553.3828 M69,1538.3828 L82,1553.3828 " fill="none" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="409.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="419.5" y="56.9238">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="416.5" y="74.5332">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="409.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="419.5" y="1497.3066">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="416.5" y="1514.916">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="767.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="808" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="774.5" y="74.5332">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="767.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="808" y="1497.3066">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="774.5" y="1514.916">RegisterClientController</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1044" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1061.5" y="56.9238">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1051" y="74.5332">ClientBuilder</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1044" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1061.5" y="1497.3066">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1051" y="1514.916">ClientBuilder</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1390.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1403" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1397.5" y="74.5332">client:Client</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1390.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1403" y="1497.3066">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1397.5" y="1514.916">client:Client</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1491.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1515" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1498.5" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1491.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1515" y="1497.3066">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1498.5" y="1514.916">PersistenceContext</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1641.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1677" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1648.5" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#fbtksotv7nl1t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1641.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1677" y="1497.3066">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1648.5" y="1514.916">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1798" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1785.5" y="86.5332">ClientRepository</text><path d="M1822.5,18.3906 C1822.5,8.3906 1840.5,8.3906 1840.5,8.3906 C1840.5,8.3906 1858.5,8.3906 1858.5,18.3906 L1858.5,44.3906 C1858.5,54.3906 1840.5,54.3906 1840.5,54.3906 C1840.5,54.3906 1822.5,54.3906 1822.5,44.3906 L1822.5,18.3906 " fill="#FEFECE" filter="url(#fbtksotv7nl1t)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1822.5,18.3906 C1822.5,28.3906 1840.5,28.3906 1840.5,28.3906 C1840.5,28.3906 1858.5,28.3906 1858.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1798" y="1490.3066">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1785.5" y="1507.916">ClientRepository</text><path d="M1822.5,1520.9922 C1822.5,1510.9922 1840.5,1510.9922 1840.5,1510.9922 C1840.5,1510.9922 1858.5,1510.9922 1858.5,1520.9922 L1858.5,1546.9922 C1858.5,1556.9922 1840.5,1556.9922 1840.5,1556.9922 C1840.5,1556.9922 1822.5,1556.9922 1822.5,1546.9922 L1822.5,1520.9922 " fill="#FEFECE" filter="url(#fbtksotv7nl1t)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1822.5,1520.9922 C1822.5,1530.9922 1840.5,1530.9922 1840.5,1530.9922 C1840.5,1530.9922 1858.5,1530.9922 1858.5,1520.9922 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="1359.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="229.3672"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="353.4453"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="466.1719"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="899.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="464" y="559.2266"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="799.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="847" y="612.9297"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1088" y="1021.5"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1556.5" y="1159.2578"/><rect fill="#FFFFFF" filter="url(#fbtksotv7nl1t)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1703.5" y="1290.6641"/><polygon fill="#A80036" points="452,117.9609,462,121.9609,452,125.9609,456,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="92" y="117.1045">Inicia o processo de registo do cliente</text><polygon fill="#A80036" points="840,148.3125,850,152.3125,840,156.3125,844,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="474" x2="846" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="481" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="492" y="147.4561">create</text><polygon fill="#A80036" points="85,195.0156,75,199.0156,85,203.0156,81,199.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="199.0156" y2="199.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="185.9834">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351" x="102" y="177.8076">Solicita os dados obrigatórios (firstNames, surnames, Email,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="102" y="194.1592">PhoneNumber, VAT, Postal Address)</text><polygon fill="#A80036" points="452,225.3672,462,229.3672,452,233.3672,456,229.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="229.3672" y2="229.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="224.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="92" y="224.5107">Introduz os dados solicitados</text><path d="M10,244.3672 L71,244.3672 L71,252.3672 L61,262.3672 L10,262.3672 L10,244.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="538.5" x="10" y="244.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="258.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="254" x="86" y="257.7861">[Sales Clerk deseja associar mais endereços]</text><path d="M20,269.7188 L93,269.7188 L93,277.7188 L83,287.7188 L20,287.7188 L20,269.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="269.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="35" y="284.2139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220" x="108" y="283.1377">[Enquanto o Sales Clerk quiser associar</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="108" y="296.9736">mais endereços]</text><polygon fill="#A80036" points="85,319.0938,75,323.0938,85,327.0938,81,323.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="323.0938" y2="323.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="318.2373">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="102" y="318.2373">Solicita o endereço</text><polygon fill="#A80036" points="452,349.4453,462,353.4453,452,357.4453,456,353.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="353.4453" y2="353.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="348.5889">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="92" y="348.5889">Introduz o endereço</text><path d="M20,382.4453 L81,382.4453 L81,390.4453 L71,400.4453 L20,400.4453 L20,382.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="382.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="396.9404">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="166" x="96" y="395.8643">[Sales Clerk deseja associar a</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="96" y="409.7002">data de nascimento do cliente]</text><polygon fill="#A80036" points="85,431.8203,75,435.8203,85,439.8203,81,435.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="435.8203" y2="435.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="430.9639">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="102" y="430.9639">Solicita a data de nascimento</text><polygon fill="#A80036" points="452,462.1719,462,466.1719,452,470.1719,456,466.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="466.1719" y2="466.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="461.3154">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="92" y="461.3154">introduz data de nascimento</text><path d="M20,488.1719 L81,488.1719 L81,496.1719 L71,506.1719 L20,506.1719 L20,488.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="518.5" x="20" y="488.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="502.667">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="258" x="96" y="501.5908">[Sales Clerk deseja associar o sexo do cliente]</text><polygon fill="#A80036" points="85,524.875,75,528.875,85,532.875,81,528.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="468" y1="528.875" y2="528.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="524.0186">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="102" y="524.0186">Solicita o sexo</text><polygon fill="#A80036" points="452,555.2266,462,559.2266,452,563.2266,456,559.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="458" y1="559.2266" y2="559.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="554.3701">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="99" y="554.3701">Introduz o sexo</text><polygon fill="#A80036" points="835,608.9297,845,612.9297,835,616.9297,839,612.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="474" x2="841" y1="612.9297" y2="612.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="481" y="599.8975">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="499" y="591.7217">registerClient(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="499" y="608.0732">vat, postalAddress, birthDate, gender)</text><path d="M1098,625.9297 L1098,651.9297 L1570,651.9297 L1570,635.9297 L1560,625.9297 L1098,625.9297 " fill="#FBFB77" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1560,625.9297 L1560,635.9297 L1570,635.9297 L1560,625.9297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451" x="1104" y="644.4248">ClientBuilder é usado para criar uma entidade do tipo Client num estado válido</text><polygon fill="#A80036" points="1081,679.6328,1091,683.6328,1081,687.6328,1085,683.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="683.6328" y2="683.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="678.7764">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="882" y="678.7764">create</text><polygon fill="#A80036" points="1081,709.9844,1091,713.9844,1081,717.9844,1085,713.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="713.9844" y2="713.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="709.1279">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="882" y="709.1279">setFirstName(firstnames)</text><polygon fill="#A80036" points="1081,740.3359,1091,744.3359,1081,748.3359,1085,744.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="744.3359" y2="744.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="739.4795">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="882" y="739.4795">setSurnames(surnames)</text><polygon fill="#A80036" points="1081,770.6875,1091,774.6875,1081,778.6875,1085,774.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="774.6875" y2="774.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="769.8311">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="882" y="769.8311">setEmail(email)</text><polygon fill="#A80036" points="1081,801.0391,1091,805.0391,1081,809.0391,1085,805.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="805.0391" y2="805.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="800.1826">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="882" y="800.1826">setPhoneNumber(phoneNumber)</text><polygon fill="#A80036" points="1081,831.3906,1091,835.3906,1081,839.3906,1085,835.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="835.3906" y2="835.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="830.5342">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="882" y="830.5342">setVAT(vat)</text><polygon fill="#A80036" points="1081,861.7422,1091,865.7422,1081,869.7422,1085,865.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="865.7422" y2="865.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="860.8857">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="882" y="860.8857">setPostalAddress(postalAddress)</text><path d="M757.5,880.7422 L818.5,880.7422 L818.5,888.7422 L808.5,898.7422 L757.5,898.7422 L757.5,880.7422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="757.5" y="880.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="772.5" y="895.2373">alt</text><polygon fill="#A80036" points="1081,917.4453,1091,921.4453,1081,925.4453,1085,921.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="921.4453" y2="921.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="916.5889">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="882" y="916.5889">setBirthDate(birthDate)</text><path d="M757.5,943.4453 L818.5,943.4453 L818.5,951.4453 L808.5,961.4453 L757.5,961.4453 L757.5,943.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="757.5" y="943.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="772.5" y="957.9404">alt</text><polygon fill="#A80036" points="1081,980.1484,1091,984.1484,1081,988.1484,1085,984.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1087" y1="984.1484" y2="984.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="979.292">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="882" y="979.292">setGender(gender)</text><polygon fill="#A80036" points="1076,1017.5,1086,1021.5,1076,1025.5,1080,1021.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1082" y1="1021.5" y2="1021.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="1016.6436">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="882" y="1016.6436">createClient()</text><polygon fill="#A80036" points="1424,1064.2031,1434,1068.2031,1424,1072.2031,1428,1068.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1098" x2="1430" y1="1068.2031" y2="1068.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1105" y="1055.1709">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="1123" y="1046.9951">create(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1123" y="1063.3467">vat, postalAddress, birthDate, gender)</text><polygon fill="#A80036" points="1109,1094.5547,1099,1098.5547,1109,1102.5547,1105,1098.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1103" x2="1435" y1="1098.5547" y2="1098.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1115" y="1093.6982">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1133" y="1093.6982">client</text><polygon fill="#A80036" points="868,1124.9063,858,1128.9063,868,1132.9063,864,1128.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="1092" y1="1128.9063" y2="1128.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="1124.0498">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="892" y="1124.0498">client</text><polygon fill="#A80036" points="1544.5,1155.2578,1554.5,1159.2578,1544.5,1163.2578,1548.5,1159.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1550.5" y1="1159.2578" y2="1159.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="1154.4014">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="882" y="1154.4014">repositories()</text><path d="M1571,1172.2578 L1571,1198.2578 L1835,1198.2578 L1835,1182.2578 L1825,1172.2578 L1571,1172.2578 " fill="#FBFB77" filter="url(#fbtksotv7nl1t)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1825,1172.2578 L1825,1182.2578 L1835,1182.2578 L1825,1172.2578 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1577" y="1190.7529">pode criar repositório em memória ou JPA</text><polygon fill="#A80036" points="1696.5,1225.9609,1706.5,1229.9609,1696.5,1233.9609,1700.5,1229.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1566.5" x2="1702.5" y1="1229.9609" y2="1229.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1573.5" y="1225.1045">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1591.5" y="1225.1045">create</text><polygon fill="#A80036" points="868,1256.3125,858,1260.3125,868,1264.3125,864,1260.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="1560.5" y1="1260.3125" y2="1260.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="1255.4561">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="892" y="1255.4561">factory</text><polygon fill="#A80036" points="1691.5,1286.6641,1701.5,1290.6641,1691.5,1294.6641,1695.5,1290.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1697.5" y1="1290.6641" y2="1290.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="1285.8076">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="882" y="1285.8076">clients()</text><polygon fill="#A80036" points="1828.5,1317.0156,1838.5,1321.0156,1828.5,1325.0156,1832.5,1321.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1713.5" x2="1834.5" y1="1321.0156" y2="1321.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1720.5" y="1316.1592">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1738.5" y="1316.1592">create</text><polygon fill="#A80036" points="868,1347.3672,858,1351.3672,868,1355.3672,864,1351.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="862" x2="1707.5" y1="1351.3672" y2="1351.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="874" y="1346.5107">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="892" y="1346.5107">clientRepository</text><polygon fill="#A80036" points="1828.5,1377.7188,1838.5,1381.7188,1828.5,1385.7188,1832.5,1381.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="857" x2="1834.5" y1="1381.7188" y2="1381.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="864" y="1376.8623">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="882" y="1376.8623">save(client)</text><polygon fill="#A80036" points="485,1408.0703,475,1412.0703,485,1416.0703,481,1412.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="479" x2="851" y1="1412.0703" y2="1412.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="491" y="1407.2139">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="509" y="1407.2139">user</text><polygon fill="#A80036" points="80,1454.7734,70,1458.7734,80,1462.7734,76,1458.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="468" y1="1458.7734" y2="1458.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="86" y="1445.7412">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="104" y="1437.5654">Informa o sucesso da operação e</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="104" y="1453.917">mostra a informação do cliente</text><!--MD5=[9ec38b072bb69704ab6b676eaf804877]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientUI as UI <<presentation>>
participant RegisterClientController as Controller <<application>>
participant ClientBuilder as Builder <<builder>>
participant "client:Client" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ClientRepository as Repository <<repository>>

activate SC
SC -> UI : Inicia o processo de registo do cliente
activate UI
UI -> Controller: create
UI - -> SC : Solicita os dados obrigatórios (firstNames, surnames, Email, \nPhoneNumber, VAT, Postal Address)
deactivate UI
SC -> UI : Introduz os dados solicitados
activate UI



alt Sales Clerk deseja associar mais endereços
loop Enquanto o Sales Clerk quiser associar \nmais endereços
UI - -> SC : Solicita o endereço
deactivate UI


SC -> UI : Introduz o endereço
activate UI
end
end
alt Sales Clerk deseja associar a \ndata de nascimento do cliente
activate UI
UI - -> SC : Solicita a data de nascimento
deactivate UI
SC -> UI : introduz data de nascimento
activate UI
end
alt Sales Clerk deseja associar o sexo do cliente
UI - -> SC : Solicita o sexo
deactivate UI
SC -> UI : Introduz o sexo
activate UI
end
UI -> Controller: registerClient(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
activate Controller
note right of Builder:ClientBuilder é usado para criar uma entidade do tipo Client num estado válido
Controller -> Builder: create
Controller -> Builder:setFirstName(firstnames)
Controller -> Builder:setSurnames(surnames)
Controller -> Builder:setEmail(email)
Controller -> Builder:setPhoneNumber(phoneNumber)
Controller -> Builder:setVAT(vat)
Controller -> Builder:setPostalAddress(postalAddress)
alt
    Controller -> Builder:setBirthDate(birthDate)
end
alt
    Controller -> Builder:setGender(gender)
end
Controller -> Builder:createClient()
activate Builder
Builder -> Domain: create(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
Domain->Builder: client
Builder -> Controller:client
deactivate Builder
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clients()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(client)
Controller->UI: user
deactivate Controller
UI - -> SC : Informa o sucesso da operação e \nmostra a informação do cliente
deactivate UI
deactivate SC



@enduml

PlantUML version 1.2021.4(Sun Apr 04 09:49:39 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>